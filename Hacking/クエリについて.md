Date: 2025-09-12
Tags: 
Links: [[SQL]]
***
## SELECT句について

```sql
SELECT 
    username, 
    LENGTH(password) AS pwd_len,
    CASE WHEN LENGTH(password)>8 THEN 'long' ELSE 'short' END AS pwd_type,
    (SELECT MAX(salary) FROM employees) AS max_salary
FROM users
WHERE ROWNUM = 1;
```

SELECT の後に来るもの = **列・式・関数・サブクエリ・定数**

***

## LIMIT とROWNUM

 MySQL や Postgres では LIMIT 1 が簡単で直感的。
**Oracle** では LIMIT は存在せず、ROWNUM を使う必要がある。
ORDER BY と組み合わせる場合は特に注意：
MySQL: `ORDER BY ... LIMIT 1 `で OK
Oracle: サブクエリで `ORDER BY `→ 外側で`WHERE ROWNUM = 1` が基本

***
## IF文
**IF文はデータベースによる違いがあるから、場合分けなら汎用的なCASE文を使った方が良い。**

***


***
# References